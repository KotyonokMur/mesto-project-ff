(()=>{"use strict";var e=document.querySelector("#card-template").content;function t(e){e.target.closest(".card").remove()}function r(e){e.currentTarget.classList.toggle("card__like-button_is-active")}function n(t,r,n,o,c){var p=e.querySelector(".card").cloneNode(!0),a=p.querySelector(".card__like-button"),u=p.querySelector(".card__delete-button");return p.querySelector(".card__title").textContent=t,p.querySelector(".card__image").src=r,p.querySelector(".card__image").alt="Изображение "+t,a.addEventListener("click",o),u.addEventListener("click",n),p.addEventListener("click",c),p}function o(e){e.classList.add("popup_is-animated"),e.classList.remove("popup_is-opened"),e.removeEventListener("click",p),document.removeEventListener("keydown",u),e.querySelector(".popup__close").removeEventListener("click",a),setTimeout((function(){e.classList.remove("popup_is-animated")}),600)}function c(e){e.classList.add("popup_is-animated"),setTimeout((function(){e.classList.add("popup_is-opened")}),1),e.addEventListener("click",p),document.addEventListener("keydown",u),e.querySelector(".popup__close").addEventListener("click",a)}function p(e){var t=e.currentTarget;e.target===t&&o(t)}function a(e){o(e.target.closest(".popup"))}function u(e){"Escape"===e.key&&o(document.querySelector(".popup_is-opened"))}var i=document.querySelector(".places").querySelector(".places__list"),s=document.querySelector(".profile__edit-button"),d=document.querySelector(".popup_type_edit"),l=document.querySelector(".profile__title"),_=document.querySelector(".profile__description"),m=d.querySelector(".popup__input_type_name"),y=d.querySelector(".popup__input_type_description"),v=document.querySelector(".profile__add-button"),f=document.querySelector(".popup_type_new-card"),q=f.querySelector(".popup__input_type_card-name"),S=f.querySelector(".popup__input_type_url"),k=document.querySelector(".popup_type_image"),g=k.querySelector(".popup__image"),L=k.querySelector(".popup__caption"),E=f.querySelector(".popup__form");function x(e){if(!e.target.classList.contains("card__like-button")&&!e.target.classList.contains("card__delete-button")){var t=e.currentTarget.querySelector(".card__image").src,r=e.currentTarget.querySelector(".card__title").textContent;g.src=t,g.alt=r,L.textContent=r,c(k)}}s.addEventListener("click",(function(){var e;e=d,m.value=l.textContent,y.value=_.textContent,c(e)})),v.addEventListener("click",(function(){c(f)})),[{name:"Архыз",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/arkhyz.jpg"},{name:"Челябинская область",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/chelyabinsk-oblast.jpg"},{name:"Иваново",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/ivanovo.jpg"},{name:"Камчатка",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kamchatka.jpg"},{name:"Холмогорский район",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kholmogorsky-rayon.jpg"},{name:"Байкал",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/baikal.jpg"}].forEach((function(e){var o=n(e.name,e.link,t,r,x);i.append(o)})),f.querySelector(".popup__form").addEventListener("submit",(function(e){e.preventDefault();var c=n(q.value,S.value,t,r,x);i.prepend(c),E.reset(),o(f)})),d.querySelector(".popup__form").addEventListener("submit",(function(e){e.preventDefault();var t=m.value,r=y.value;l.textContent=t,_.textContent=r,o(d)}))})();